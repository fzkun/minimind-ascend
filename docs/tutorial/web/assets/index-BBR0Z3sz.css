:root{--bg: #ffffff;--bg2: #f5f5f5;--bg3: #e8e8e8;--fg: #1a1a2e;--fg2: #555;--fg3: #888;--accent: #4f46e5;--accent2: #7c3aed;--accent3: #06b6d4;--green: #10b981;--red: #ef4444;--orange: #f59e0b;--blue: #3b82f6;--border: #ddd;--shadow: rgba(0,0,0,.08);--code-bg: #f8f8f8;--code-fg: #333;--radius: 8px;--transition: .3s ease}[data-theme=dark]{--bg: #0f172a;--bg2: #1e293b;--bg3: #334155;--fg: #e2e8f0;--fg2: #94a3b8;--fg3: #64748b;--accent: #818cf8;--accent2: #a78bfa;--accent3: #22d3ee;--green: #34d399;--red: #f87171;--orange: #fbbf24;--blue: #60a5fa;--border: #475569;--shadow: rgba(0,0,0,.3);--code-bg: #1e293b;--code-fg: #e2e8f0}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{font-size:16px;scroll-behavior:smooth}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;background:var(--bg);color:var(--fg);transition:background var(--transition),color var(--transition);line-height:1.6;min-height:100vh}canvas{border-radius:var(--radius);display:block;max-width:100%}svg text{font-family:-apple-system,sans-serif}input[type=range]{-webkit-appearance:none;width:100%;height:6px;border-radius:3px;background:var(--bg3);outline:none}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;border-radius:50%;background:var(--accent);cursor:pointer}textarea{width:100%;padding:10px;border:1px solid var(--border);border-radius:var(--radius);background:var(--bg);color:var(--fg);font-size:.9rem;resize:vertical;font-family:inherit;min-height:60px}textarea:focus{outline:none;border-color:var(--accent)}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.pulse{animation:pulse .6s ease}@media(max-width:768px){.viz-grid{grid-template-columns:1fr!important}.top-bar{height:auto!important;flex-wrap:nowrap;padding:8px!important}.tab-btn{padding:6px 10px!important;font-size:.78rem!important}.container{padding:16px 10px!important}.card{padding:14px!important}}.top-bar{position:sticky;top:0;z-index:100;background:var(--bg2);border-bottom:1px solid var(--border);box-shadow:0 2px 8px var(--shadow);display:flex;align-items:center;padding:0 16px;height:56px;gap:8px;overflow-x:auto;-webkit-overflow-scrolling:touch}.top-bar .logo{font-weight:700;font-size:1.1rem;color:var(--accent);white-space:nowrap;margin-right:8px}.tab-btn{padding:8px 14px;border:none;background:transparent;color:var(--fg2);font-size:.85rem;cursor:pointer;border-radius:var(--radius);white-space:nowrap;transition:all var(--transition);font-weight:500}.tab-btn:hover{background:var(--bg3);color:var(--fg)}.tab-btn.active{background:var(--accent);color:#fff}.theme-toggle{margin-left:auto;background:var(--bg3);border:1px solid var(--border);border-radius:50%;width:36px;height:36px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.1rem;flex-shrink:0;transition:all var(--transition)}.theme-toggle:hover{border-color:var(--accent)}.container{max-width:1100px;margin:0 auto;padding:24px 16px}.section{display:none}.section.active{display:block;animation:fadeIn .3s ease}.section h2{font-size:1.5rem;margin-bottom:8px;color:var(--accent)}.section .desc{color:var(--fg2);margin-bottom:20px;font-size:.95rem}.card{background:var(--bg2);border:1px solid var(--border);border-radius:var(--radius);padding:20px;margin-bottom:20px;box-shadow:0 2px 6px var(--shadow)}.card h3{font-size:1.1rem;margin-bottom:12px;color:var(--fg)}.btn{display:inline-flex;align-items:center;gap:4px;padding:6px 16px;border:1px solid var(--border);border-radius:var(--radius);background:var(--bg);color:var(--fg);cursor:pointer;font-size:.85rem;transition:all var(--transition)}.btn:hover{border-color:var(--accent);color:var(--accent)}.btn.primary{background:var(--accent);color:#fff;border-color:var(--accent)}.btn.primary:hover{opacity:.85}.token-box{display:inline-block;padding:2px 8px;margin:2px;border-radius:4px;font-size:.85rem;font-family:monospace;transition:all .3s}.source-panel{margin-top:12px}.source-toggle{display:flex;align-items:center;gap:6px;cursor:pointer;color:var(--fg3);font-size:.85rem;padding:6px 0;-webkit-user-select:none;user-select:none}.source-toggle:hover{color:var(--accent)}.source-toggle .arrow{transition:transform .3s;display:inline-block}.source-toggle.open .arrow{transform:rotate(90deg)}.source-content{display:none;background:var(--code-bg);border:1px solid var(--border);border-radius:var(--radius);padding:12px;margin-top:6px;overflow-x:auto;font-family:SF Mono,Fira Code,monospace;font-size:.8rem;line-height:1.5;color:var(--code-fg)}.source-content.open{display:block}.viz-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}.matrix-table{border-collapse:collapse;font-size:.75rem;font-family:monospace}.matrix-table td,.matrix-table th{padding:4px 8px;border:1px solid var(--border);text-align:center}.matrix-table th{background:var(--bg3)}.matrix-table .highlight{background:var(--accent);color:#fff;transition:background .3s}.flow-row{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin:12px 0}.flow-box{padding:8px 16px;border-radius:var(--radius);font-size:.85rem;border:2px solid var(--border);background:var(--bg);text-align:center;min-width:80px;transition:all .3s}.flow-box.active{border-color:var(--accent);background:var(--accent);color:#fff}.flow-arrow{color:var(--fg3);font-size:1.2rem}.label{font-size:.75rem;color:var(--fg3);margin-bottom:4px}.value{font-family:monospace;font-size:.9rem;color:var(--accent)}.bar-chart{display:flex;align-items:flex-end;gap:3px;height:120px;padding:4px 0}.bar{flex:1;background:var(--accent);border-radius:2px 2px 0 0;min-width:4px;transition:height .5s ease;position:relative}.bar:hover{opacity:.8}.tooltip{position:absolute;background:var(--bg2);border:1px solid var(--border);border-radius:4px;padding:4px 8px;font-size:.75rem;pointer-events:none;white-space:nowrap;z-index:50;box-shadow:0 2px 8px var(--shadow)}.step-indicator{display:flex;gap:4px;margin-bottom:12px;flex-wrap:wrap}.step-dot{width:28px;height:28px;border-radius:50%;border:2px solid var(--border);display:flex;align-items:center;justify-content:center;font-size:.7rem;color:var(--fg3);transition:all .3s;cursor:pointer}.step-dot.active{border-color:var(--accent);background:var(--accent);color:#fff}.step-dot.done{border-color:var(--green);background:var(--green);color:#fff}.shape-badge{display:inline-block;padding:2px 10px;border-radius:12px;background:var(--bg3);font-family:monospace;font-size:.8rem;color:var(--accent);border:1px solid var(--border)}.silu-demo{display:flex;align-items:center;gap:20px;flex-wrap:wrap}
